<div class="page-layout blank" *ngIf="salesService">


  <div class="content p-24">

    <div fx-layout="row" fxLayoutAlign="start center">
      <p class="p-class" [routerLink]="['/main/analytics']">
        < <a>Reports</a>
      </p>
    </div>
    <h1 class="h1-class">Sales by Service</h1>
    <div fxLayout="row" fxLayout.gt-xs="row">

      <div fxFlex="28">

        <mat-form-field class="noline hello" [floatLabel]="'never'" style="width: 230px;">
          <input class="dropdown" autocomplete="off" matInput placeholder="Select date range"
            [(ngModel)]="saleDateTimeRange" [selectMode]="'range'" [owlDateTimeTrigger]="dtRange2"
            [owlDateTime]="dtRange2" (ngModelChange)="inputChange($event)">
          <owl-date-time style="widows: 20px !important" [pickerType]="'calendar'" #dtRange2>
          </owl-date-time>
        </mat-form-field>

      </div>

      <div fxFlex="57">

      </div>


      <div class="margin-item float-right" fxFlex="15">
        <button mat-raised-button [matMenuTriggerFor]="menu" [disabled]="!dataSource.length">EXPORT <i class="fa fa-download"
            aria-hidden="true"></i></button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item value="CSV" (click)="onOptionSelected($event.currentTarget.value,'closeDate')">CSV</button>
          <button mat-menu-item value="Excel" (click)="onOptionSelected($event.currentTarget.value,'closeDate')">Excel</button>
          <button mat-menu-item value="Pdf" (click)="onOptionSelected($event.currentTarget.value,'closeDate')">Pdf</button>
        </mat-menu>
      </div>

    </div>
  </div>

  <div class="filters" *ngIf="dataSource.length != 0 && salesService" fxLayout="column" fxLayoutAlign="start stretch">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="discount">
        <th mat-header-cell *matHeaderCellDef> Discount </th>
        <td mat-cell *matCellDef="let element"> {{element.discount}} </td>
      </ng-container>

      <ng-container matColumnDef="tax">
        <th mat-header-cell *matHeaderCellDef> Tax </th>
        <td mat-cell *matCellDef="let element"> {{element.tax}} </td>
      </ng-container>

      <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef> Total Count </th>
        <td mat-cell *matCellDef="let element"> {{element.count}} </td>
      </ng-container>

      <ng-container matColumnDef="totalSum">
        <th mat-header-cell *matHeaderCellDef> Total Sum </th>
        <td mat-cell *matCellDef="let element"> {{element.TotalSum}} </td>
      </ng-container>

      <ng-container matColumnDef="grossSale">
        <th mat-header-cell *matHeaderCellDef> Gross Sale </th>
        <td mat-cell *matCellDef="let element"> {{element.GrossSale}} </td>
      </ng-container>

      <ng-container matColumnDef="netSale">
        <th mat-header-cell *matHeaderCellDef> Net Sale </th>
        <td mat-cell *matCellDef="let element"> {{element.NetSale}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
    </table>
  </div>
  <div *ngIf="dataSource.length == 0" class="noData">
    No Record found
  </div>
</div>


<!-- --------------------------------------------------------- -->

<div class="page-layout blank" *ngIf="salesStaff">


  <div class="content p-24">

    <div fx-layout="row" fxLayoutAlign="start center">
      <p class="p-class" [routerLink]="['/main/analytics']">
        < <a>Reports</a>
      </p>
    </div>
    <h1 class="h1-class">Sales by Staff</h1>
    <div fxLayout="row" fxLayout.gt-xs="row">

      <div fxFlex="28">

        <mat-form-field class="noline hello" [floatLabel]="'never'" style="width: 230px;">
          <input class="dropdown" autocomplete="off" matInput placeholder="Select date range"
            [(ngModel)]="saleDateTimeRange" [selectMode]="'range'" [owlDateTimeTrigger]="dtRange2"
            [owlDateTime]="dtRange2" (ngModelChange)="inputChange($event)">
          <owl-date-time style="widows: 20px !important" [pickerType]="'calendar'" #dtRange2>
          </owl-date-time>
        </mat-form-field>

      </div>

      <div fxFlex="50">

      </div>


      <div class="margin-item" fxFlex="15">
        <button mat-raised-button [matMenuTriggerFor]="menu" [disabled]="!dataSource.length">EXPORT <i class="fa fa-download"
            aria-hidden="true"></i></button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item value="CSV" (click)="onOptionSelected($event.currentTarget.value)">CSV</button>
          <button mat-menu-item value="Excel" (click)="onOptionSelected($event.currentTarget.value)">Excel</button>
          <button mat-menu-item value="Pdf" (click)="onOptionSelected($event.currentTarget.value)">Pdf</button>
        </mat-menu>
      </div>

    </div>
  </div>

  <div class="filters" *ngIf="dataSource.length !=0" fxLayout="column" fxLayoutAlign="start stretch">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <ng-container matColumnDef="discount">
        <th mat-header-cell *matHeaderCellDef> Discount </th>
        <td mat-cell *matCellDef="let element"> {{element.discount}} </td>
      </ng-container>

      <ng-container matColumnDef="tax">
        <th mat-header-cell *matHeaderCellDef> Tax </th>
        <td mat-cell *matCellDef="let element"> {{element.tax}} </td>
      </ng-container>

      <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef> Total Count </th>
        <td mat-cell *matCellDef="let element"> {{element.count}} </td>
      </ng-container>

      <ng-container matColumnDef="totalSum">
        <th mat-header-cell *matHeaderCellDef> Total Sum </th>
        <td mat-cell *matCellDef="let element"> {{element.TotalSum}} </td>
      </ng-container>

      <ng-container matColumnDef="grossSale">
        <th mat-header-cell *matHeaderCellDef> Gross Sale </th>
        <td mat-cell *matCellDef="let element"> {{element.GrossSale}} </td>
      </ng-container>

      <ng-container matColumnDef="netSale">
        <th mat-header-cell *matHeaderCellDef> Net Sale </th>
        <td mat-cell *matCellDef="let element"> {{element.NetSale}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
    </table>
  </div>
  <div *ngIf="dataSource.length == 0" class="noData">
    No Record found
  </div>
</div>